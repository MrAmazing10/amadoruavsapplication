import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
#import geopandas as gpd
from sklearn import metrics
from sklearn.cluster import DBSCAN

# initialize global empty list
points = []
#open file
def create_list(points):
    with open("no_outliers.txt","r") as no_outliers:

     for i, line in enumerate(no_outliers):
                    
          if i == 0:
                continue
          
          values = line.strip()
          #split into lat + long then add to 2d list
          lat, long = values.split()
          points.append([float(lat), float(long)])

     return points
points = create_list(points)

points = create_list(points) 
#print("points:",points)
def cluster(points):
     db = DBSCAN(eps=.0001, min_samples=5).fit(points)
     labels = db.labels_

     # Number of clusters in labels, ignoring noise if present.
     n_clusters_ = len(set(labels)) - (1 if -1 in labels else 0)
     n_noise_ = list(labels).count(-1)

     print("Estimated number of clusters: %d" % n_clusters_)
     print("Estimated number of noise points: %d" % n_noise_)

cluster(points)
def plot(points):
    #sets x and y -values
    x = [i[0] for i in points]
    y = [j[1] for j in points]
    #creates plot
    df = plt.scatter(x, y)
    """lat_long = df[["latitude","longitude"]]
    lat, long = df.latitude, df.longitude
    plt.scatter(long,lat)"""
    #saves as file for me to view
    plt.savefig('scatter_plot.png')
plot(points)
